<template name="home">
  <div class="container">
    <div class="row">
      <div class="col s12 m10">
        <h1 id="title" class="title hide-on-small-only">monomorphist</h1>
        <h5 class="subtitle">a JavaScript performance companion</h5>

        <p>
          Two useful tools to find out which parts of your JS won't get optimized by V8.
        </p>

        <ol>
          <li>Check a JavaScript function simultanously on <a class="node-modal-trigger">various Node versions</a></li>
          <li>Analyze <a class="d8-modal-trigger">V8</a> internal representation and assembly online</li>
        </ol>


        <p>
          Here is an example:
        </p>
        <div class="row">
          <div class="col s12 m6">
            <div class="row">
              <div class="input-field col s12">
                <span id="sampleDefinition"></span>
                <label style="margin-left: 34px;" class="active">
                  Your function
                </label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <span id="sampleCall"></span>
                <label style="margin-left: 34px;" class="active">
                  How to call the function
                </label>
              </div>
            </div>
            <div class="row">
              <div class="input-field col s12">
                <input type="text" name="fn.name" data-schema-key="fn.name" value="wEval" readonly="readonly" style="color: rgba(0, 0, 0, 0.870588);">
                <label class="active" style="color: #9e9e9e">
                  The name of the function to optimize
                </label>
              </div>
            </div>
          </div>
          <div class="col m6 hide-on-small-only">
            <div class="card-panel blue-grey lighten-4 instrumented">
              <pre>
'use strict';
function wEval(x) {
  console.log({ x: x });
  return x;
  eval('');
}
var arg;

arg = Math.round(Math.random() * 100);
wEval(arg);
arg = Math.round(Math.random() * 100);
wEval(arg);

%OptimizeFunctionOnNextCall(wEval);

arg = Math.round(Math.random() * 100);
wEval(arg);

printStatus(wEval);
              </pre>
            </div>
          </div>
        </div>

        <p>
          and its corresponding output: <a href="https://mono.morph.ist/job/N6GGo3NWyW2YC35Av">mono.morph.ist/job/N6GGo3NWyW2YC35Av</a>.
        </p>

        <p>
          <a class="waves-effect waves-light btn-large" href="/job/new">bailouts on node</a>
          <a class="waves-effect waves-light btn-large node-modal-trigger">show node versions</a>
        </p>

        <p>
          <a class="waves-effect waves-light btn-large" href="/ir/new">IRHydra<sup>2</sup> for V8</a>
          <a class="waves-effect waves-light btn-large d8-modal-trigger">show V8 versions</a>
        </p>
      </div>
      <div class="col m2 hide-on-small-only">
        {{> queue}}
      </div>
    </div>
  </div>
</template>
