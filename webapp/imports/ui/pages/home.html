<template name="home">
  <h1 id="title" class="title hide-on-small-only"><a href="/">monomorphist</a></h1>
  <h5 class="subtitle home-section">a JavaScript performance companion</h5>

  <p>
    Two useful tools to find out which parts of your JS won't get optimized by V8.
  </p>

  <p>
    V8 is Google's powerful JavaScript engine, built for and shipped with
    the open source <a
    href="https://en.wikipedia.org/wiki/Chromium_(web_browser)"
    target="_blank">Chromium project</a>. Having a very fast JavaScript
    engine is arguably what drove <strong>Google Chrome</strong> adoption
    and while its architecture remains singular, parts of its design
    inspired significative improvements in most of the other JavaScript
    engines.
  </p>

  <p>
    V8 is also the JavaScript engine <strong>shipped with
    Node.js</strong>. It is probably in the context of Node.js that most
    people started trying to understand how V8 works and how to work with
    V8. Optimizing backend code being significantly more interesting to
    developers than optimizing for a specific web browser.
    <br>
    Here is a <a
    href="https://vhf.github.io/blog/2016/01/22/chromium-chrome-v8-crankshaft-bailout-reasons/"
    target="_blank">short overview of V8 JavaScript compiling
    infrastructure</a> going over the main components you should know
    about in order to understand what makes V8 fast, what optimizes
    JavaScript code and what happens when V8 cannot optimize your code.
  </p>

  <p>
    <strong>monomorphist</strong> is an open source project providing two useful
    tools:
  </p>
  <div class="row">
    <div class="col s12 m6">
      <p>
        The first one shows the <strong>optimization status of JavaScript
        functions</strong>. Its main purpose is to spot deoptimizations and <a
        href="https://github.com/vhf/v8-bailout-reasons"
        target="_blank">Crankshaft bailouts</a>.
      </p>
    </div>
    <div class="col s12 m6">
      <p>
        The second one helps understanding what happens under the hood by
        looking at the internal representation and assembly generated by
        V8 when it compiles JavaScript code.
      </p>
    </div>
  </div>
  <div class="row">
    <div class="col s12 m6">
      <p>
        <a href="/bailout"><img src="/slides/node-log.png" style="max-width: 400px"></a>
      </p>
    </div>
    <div class="col s12 m6">
      <p>
        <a href="/bailout"><img src="/slides/ir-graph.png" style="max-width: 400px"></a>
      </p>
    </div>
  </div>
  <div class="row">
    <div class="col s12 m6">
      <p>
        <a href="/bailout">More pictures and examples</a>
      </p>
    </div>
    <div class="col s12 m6">
      <p>
        <a href="/ir">More pictures and examples</a>
      </p>
    </div>
  </div>

  <p>
    You don't need monomorphist to access these information, monomorphist
    is just a hosted tool abstracting some tricky details like passing the
    right flags to V8 or having to compile V8 with the right flags to let
    you access the IR or assembly it generates.
  </p>
  <p>
    Another advantage of monorphist is that it hosts <strong>a great
    number of different <a class="node-modal-trigger">Node versions</a>
    and <a class="d8-modal-trigger">V8 versions</a></strong>.
  </p>

  <div class="row close-bottom">
    <div class="col s12 m6">
      <p id="try-node">
        Check a JavaScript function simultaneously on <a
        class="node-modal-trigger">various Node versions</a>:
      </p>
    </div>
    <div class="col s12 m6">
      <p id="try-irhydra">
        Analyze <a class="d8-modal-trigger">V8</a> internal representation
        and assembly online:
      </p>
    </div>
  </div>

  <div class="row close-top">
    <div class="col s12 m6">
      <p>
        <a class="home-btn" href="/job/new">
          check function
          <br>
          <span class="small">(bailouts on node)</span>
        </a>
        <a class="home-btn node-modal-trigger">see all<br>node versions</a>
      </p>
    </div>
    <div class="col s12 m6">
      <p>
        <a class="home-btn" href="/ir/new">
          analyze code
          <br>
          <span class="small">(IRHydra<sup>2</sup> for V8)</span>
        </a>
        <a class="home-btn d8-modal-trigger">see all<br>V8 versions</a>
      </p>
    </div>
  </div>
</template>
